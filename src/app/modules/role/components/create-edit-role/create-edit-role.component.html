<button nz-button nzType="primary" (click)="showLarge()">
  <span nz-icon nzType="plus"></span>
  Tạo mới
</button>
<app-digitop-drawer [title]="state + ' quyền'" [visible]="visible" [size]="size" (onConfirm)="confirmDrawer()"
  (onLeave)="close()">
  <ng-container content>
    <nz-spin [nzSpinning]="isLoading">
      <form nz-form [nzLayout]="'inline'" [formGroup]="roleForm" (ngSubmit)="confirmDrawer()">
        <div nz-row [nzGutter]="[hGutter, vGutter]">
          <div nz-col class="gutter-row" [nzSpan]="24">
            <nz-form-item>
              <nz-form-control>
                <nz-form-label [nzRequired]="true" [nzSpan]="'vertical'">Tên</nz-form-label>
                <nz-input-group>
                  <input formControlName="name"
                    [ngClass]="submitted && roleForm.get('name')?.errors ? 'ant-input-status-error ng-invalid' : ''"
                    nz-input placeholder="Tên" />
                </nz-input-group>
                <div *ngIf="submitted && roleForm.get('name')?.errors" class="input-text-error">
                  <span>Vui lòng nhập tên</span>
                </div>
              </nz-form-control>
            </nz-form-item>
          </div>
          <div nz-row [nzGutter]="[hGutter, vGutter]">
            <div nz-col class="gutter-row" [nzSpan]="12">
              <nz-form-item>
                <nz-form-control>
                  <nz-form-label [nzRequired]="true">Is admin</nz-form-label>
                  <br>
                  <nz-switch [(ngModel)]="isAdmin" formControlName="isAdmin">
                  </nz-switch>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
          <div nz-row [nzGutter]="[hGutter, vGutter]">
            <div nz-col class="gutter-row" [nzSpan]="24">
              <nz-form-item>
                <nz-form-control>
                  <nz-form-label [nzRequired]="true">Phân quyền</nz-form-label>
                  <div *ngIf="submitted && roleForm.get('checkedList')?.errors" class="input-text-error">
                    <span>Vui lòng chọn phân quyền</span>
                  </div>
                  <div nz-row [nzGutter]="16">
                    <div nz-col nzSpan="12" *ngFor="let permission of permissions">
                      <app-permission [permission]="permission" [checkedList]="roleForm.controls['checkedList'].value"
                        (onChecked)="onChecked($event)" (onCheckedAll)="onCheckedAll($event)">
                      </app-permission>
                    </div>
                  </div>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
        </div>
      </form>
    </nz-spin>
  </ng-container>
</app-digitop-drawer>